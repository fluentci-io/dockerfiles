# Do not edit this file directly. It is generated by FluentDocker.

FROM ghcr.io/fluentci-io/pkgx:latest
RUN apt-get update
RUN apt-get install -y build-essential ruby ruby-dev 
RUN pkgx install bun node unzip rtx wget
RUN wget https://github.com/facebook/watchman/releases/download/v2023.10.23.00/watchman-v2023.10.23.00-linux.zip
RUN unzip watchman-v2023.10.23.00-linux.zip
RUN chmod +x watchman-v2023.10.23.00-linux/bin/*
RUN cp watchman-v2023.10.23.00-linux/bin/* /usr/local/bin
RUN cp watchman-v2023.10.23.00-linux/lib/* /usr/local/lib
RUN echo 'eval $(rtx activate bash)' >> ~/.bashrc
RUN rtx install java@zulu-17.46.19
RUN rtx global java@zulu-17.46.19
ENV JAVA_HOME=/root/.local/share/rtx/installs/java/zulu-17.46.19
ENV PATH=/root/.local/share/rtx/installs/java/zulu-17.46.19/bin:${PATH}
RUN gem install bundler
ENV ANDROID_HOME=/root/android-sdk
RUN mkdir -p $ANDROID_HOME && wget --output-document=$ANDROID_HOME/cmdline-tools.zip https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip
RUN cd $ANDROID_HOME && rm -rf cmdline-tools && unzip -d cmdline-tools cmdline-tools.zip && mv cmdline-tools/cmdline-tools cmdline-tools/latest
ENV PATH=${ANDROID_HOME}/cmdline-tools/latest/bin:${PATH}
RUN sdkmanager platforms;android-33
RUN yes | sdkmanager --licenses
CMD bash -i
